<launch>

<!-- USE TURTLEBOT SLAM ON GAZEBO -->


  <arg name="use_fake"                  default="false"/>
  <arg name="use_real"                  default="false"/>
  <arg name="open_rviz"                 default="false"/>
  <arg name="use_navi"                  default="true"  doc="use my navigation node "/>

  <!-- Use Gazebo or fake node -->
  <group if="$(arg use_fake)">
    <!-- Use fake node -->
    <include if="$(arg use_fake)" file="$(find builder)/launch/bring_up_fake.launch">
    </include>
    <node pkg="tf" type="static_transform_publisher" name="bind_broadcaster1" args="0.25 0 0 0 0 0 1 world map 100" />
    <node pkg="tf" type="static_transform_publisher" name="bind_broadcaster2" args="0 0 0 0 0 0 1 map odom 100" />
    <node pkg="tf" type="static_transform_publisher" name="bind_broadcaster3" args="0 0 0 0 0 1 0 base_footprint base_footreverse 100" />

    <!-- <include file="$(find builder)/launch/gazebo_world.launch">
      <arg name="model"                value="burger"/>
    </include> -->


  </group>
  
  <!-- USE REAL TURTLE -->
  <group if="$(arg use_real)">
    <node pkg="tf" type="static_transform_publisher" name="bind_broadcaster1" args="0.25 0 0 0 0 0 1 world map 100" />
    <node pkg="tf" type="static_transform_publisher" name="bind_broadcaster3" args="0 0 0 0 0 1 0 base_footprint base_footreverse 100" />

    <include file="$(find builder)/launch/bring_up_real.launch"/>
  </group>



  <!-- Use Path Planing -->
  <node  if="$(arg use_navi)" pkg="builder" type="path_plan.py" name="Path_Planning" output="screen">
  </node>

  <!-- Use Navigation Movement -->
  <node  if="$(arg use_navi)" pkg="builder" type="navigate.py" name="Navigate"     output="screen">
  </node>

  <!-- <node if="$(arg open_rviz)" type="rviz" name="rviz" pkg="rviz" args="-d $(find brain)/rviz/turtle.rviz" /> -->
  <node if="$(arg open_rviz)" type="rviz" name="rviz" pkg="rviz" args="-d $(find brain)/rviz/allTogether.rviz" />

</launch>
